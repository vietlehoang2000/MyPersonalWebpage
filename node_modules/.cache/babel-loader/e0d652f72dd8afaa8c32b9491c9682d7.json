{"ast":null,"code":"import _classCallCheck from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\n// Constants for normalizing input delta\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\n// Slow down zoom if shift key is held for more precise zooming\nvar SHIFT_MULTIPLIER = 0.25;\nvar WheelInput = /*#__PURE__*/function (_Input) {\n  _inherits(WheelInput, _Input);\n  var _super = _createSuper(WheelInput);\n  function WheelInput(element, callback, options) {\n    var _this;\n    _classCallCheck(this, WheelInput);\n    _this = _super.call(this, element, callback, options);\n    /* eslint-disable complexity, max-statements */\n    _this.handleEvent = function (event) {\n      if (!_this.options.enable) {\n        return;\n      }\n      var value = event.deltaY;\n      if (window.WheelEvent) {\n        // Firefox doubles the values on retina screens...\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        // This one is definitely a mouse wheel event.\n        // Normalize this value to match trackpad.\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n      _this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        delta: -value,\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    };\n    _this.events = (_this.options.events || []).concat(WHEEL_EVENTS);\n    _this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n    return _this;\n  }\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }]);\n  return WheelInput;\n}(Input);\nexport { WheelInput as default };","map":{"version":3,"names":["Input","INPUT_EVENT_TYPES","window","userAgent","passiveSupported","firefox","indexOf","WHEEL_EVENTS","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WHEEL_DELTA_PER_LINE","SHIFT_MULTIPLIER","WheelInput","_Input","_inherits","_super","_createSuper","element","callback","options","_this","_classCallCheck","call","handleEvent","event","enable","value","deltaY","WheelEvent","deltaMode","DOM_DELTA_PIXEL","devicePixelRatio","DOM_DELTA_LINE","Math","floor","shiftKey","type","center","x","clientX","y","clientY","delta","srcEvent","pointerType","target","events","concat","forEach","addEventListener","passive","_createClass","key","destroy","_this2","removeEventListener","enableEventType","eventType","enabled","default"],"sources":["../../../src/inputs/wheel-input.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}