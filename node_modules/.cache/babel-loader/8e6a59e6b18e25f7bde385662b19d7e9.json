{"ast":null,"code":"import _classCallCheck from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vietle/Documents/personal-project/MyPersonalWebpage/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Input from './input';\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\nvar KeyInput = /*#__PURE__*/function (_Input) {\n  _inherits(KeyInput, _Input);\n  var _super = _createSuper(KeyInput);\n  function KeyInput(element, callback, options) {\n    var _this;\n    _classCallCheck(this, KeyInput);\n    _this = _super.call(this, element, callback, options);\n    _this.handleEvent = function (event) {\n      // Ignore if focused on text input\n      var targetElement = event.target || event.srcElement;\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n      if (_this.enableDownEvent && event.type === 'keydown') {\n        _this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n      if (_this.enableUpEvent && event.type === 'keyup') {\n        _this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    };\n    _this.enableDownEvent = _this.options.enable;\n    _this.enableUpEvent = _this.options.enable;\n    _this.events = (_this.options.events || []).concat(KEY_EVENTS);\n    element.tabIndex = _this.options.tabIndex || 0;\n    element.style.outline = 'none';\n    _this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n    return _this;\n  }\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }]);\n  return KeyInput;\n}(Input);\nexport { KeyInput as default };","map":{"version":3,"names":["Input","INPUT_EVENT_TYPES","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","_Input","_inherits","_super","_createSuper","element","callback","options","_this","_classCallCheck","call","handleEvent","event","targetElement","target","srcElement","tagName","type","enableDownEvent","srcEvent","key","enableUpEvent","enable","events","concat","tabIndex","style","outline","forEach","addEventListener","_createClass","value","destroy","_this2","removeEventListener","enableEventType","eventType","enabled","default"],"sources":["../../../src/inputs/key-input.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}